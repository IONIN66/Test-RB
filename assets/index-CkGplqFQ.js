(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const b of s.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&a(b)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const _=document.querySelectorAll(".modal__input input"),m=document.getElementById("phone"),q=document.querySelector(".modal__checkbox-input"),k=document.querySelector(".button--modal-submit"),j=document.querySelector(".modal__form"),I=document.getElementById("modal"),z=document.getElementById("modal__button__close"),G=document.querySelectorAll(".button--leave-request"),B=document.getElementById("videoModal"),C=document.getElementById("videoFrame");function h(e,n){e.classList.toggle("error_border",n);const o=e.nextElementSibling;o&&(o.style.display=n?"block":"none",o.textContent=n?"Неверный формат":"")}function H(e){return/^\(?([0-9]{4})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(e)}function L(){let e=!0,n=!0;_.forEach(t=>{const s=t.value.trim()==="";h(t,s),s&&(e=!1)});const o=m.value.trim();n=H(o),h(m,!n);const a=q.checked;k.disabled=!(e&&n&&a)}function M(){_.forEach(e=>{e.value="",h(e,!1)}),m.value="",h(m,!1),q.checked=!1,k.disabled=!0}function F(){M(),I.style.display="none"}function J(e){L(),k.disabled?e.preventDefault():M()}function Q(){M(),I.style.display="flex"}function O(){C.src="",B.style.display="none"}_.forEach(e=>e.addEventListener("input",L));q.addEventListener("change",L);m.addEventListener("input",L);j.addEventListener("submit",J);z.addEventListener("click",F);document.addEventListener("click",e=>{e.target===I&&F()});G.forEach(e=>e.addEventListener("click",Q));document.getElementById("videoButton").addEventListener("click",()=>{C.src="https://rutube.ru/play/embed/0581f03c3611e5ee2587547ace1828e8/",B.style.display="flex"});document.querySelector(".modal__close").addEventListener("click",O);document.addEventListener("click",e=>{e.target===B&&O()});document.addEventListener("keydown",e=>{e.key==="Escape"&&(F(),O())});let f=document.querySelector(".slider"),p=f.querySelector(".slider__list"),d=f.querySelector(".slider-track"),u=f.querySelectorAll(".slide"),T=f.querySelector(".slider-arrows"),U=T.children[0],Z=T.children[1],E=u[0].offsetWidth,r=0,c=0,i=0,x=0,S=0,A=0,P=0,y=!1,w=!1,l=!0,Y=!0,D=0,N=0,ee=(u.length-1)*E,te=u[0].offsetWidth*.35,ne=/([-0-9.]+(?=px))/,V,X,W=function(){return event.type.search("touch")!==-1?event.touches[0]:event},R=function(){u.forEach(e=>{e.classList.add("blur")}),u[r].classList.remove("blur"),Y&&(d.style.transition="transform .5s"),d.style.transform=`translate3d(-${r*E}px, 0px, 0px)`,U.classList.toggle("disabled",r===0),Z.classList.toggle("disabled",r===u.length-1)},K=function(){let e=W();l&&(V=Date.now(),Y=!0,D=(r+1)*-E,N=(r-1)*-E,c=i=e.clientX,S=e.clientY,d.style.transition="",document.addEventListener("touchmove",g),document.addEventListener("mousemove",g),document.addEventListener("touchend",v),document.addEventListener("mouseup",v),p.classList.remove("grab"),p.classList.add("grabbing"))},g=function(){let e=W(),n=d.style.transform,o=+n.match(ne)[0];if(x=i-e.clientX,i=e.clientX,A=S-e.clientY,S=e.clientY,!y&&!w){let a=Math.abs(A);a>7||x===0?(w=!0,l=!1):a<7&&(y=!0)}if(y){if(r===0)if(c<i){$(o,0);return}else l=!0;if(r===u.length-1)if(c>i){$(o,ee);return}else l=!0;if(c>i&&o<D||c<i&&o>N){se();return}d.style.transform=`translate3d(${o-x}px, 0px, 0px)`}},v=function(){P=c-i,w=!1,y=!1,document.removeEventListener("touchmove",g),document.removeEventListener("mousemove",g),document.removeEventListener("touchend",v),document.removeEventListener("mouseup",v),p.classList.add("grab"),p.classList.remove("grabbing"),l?(X=Date.now(),(Math.abs(P)>te||X-V<300)&&(c<i?r--:c>i&&r++),c!==i?(l=!1,R()):l=!0):l=!0},$=function(e,n){e>=n&&e>n&&(d.style.transform=`translate3d(${n}px, 0px, 0px)`),l=!1},se=function(){Y=!1,v(),l=!0};d.style.transform="translate3d(0px, 0px, 0px)";p.classList.add("grab");d.addEventListener("transitionend",()=>l=!0);f.addEventListener("touchstart",K);f.addEventListener("mousedown",K);T.addEventListener("click",function(){let e=event.target;if(e.classList.contains("next"))r++;else if(e.classList.contains("prev"))r--;else return;R()});
